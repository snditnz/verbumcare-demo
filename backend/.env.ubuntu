# VerbumCare Backend Configuration - Ubuntu Server
# Server: verbumcare-lab.local (Ubuntu 24.04 LTS x64)

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# When running via Docker Compose, use internal service name
DATABASE_URL=postgres://demo:demo123@postgres:5432/verbumcare_demo

# For direct backend access (not in Docker):
# DATABASE_URL=postgres://demo:demo123@localhost:5432/verbumcare_demo

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
PORT=3000
NODE_ENV=production

# Allowed client origins (CORS)
# Add your client device IPs/hostnames
CLIENT_URLS=http://localhost:5173,http://localhost:5174,http://verbumcare-lab.local:5173,http://verbumcare-lab.local:5174

# ============================================================================
# AI SERVICES CONFIGURATION - Ubuntu Server Setup
# ============================================================================

# Whisper Service (Audio Transcription)
# Running on Ubuntu host, accessible from Docker via host.docker.internal
WHISPER_URL=http://host.docker.internal:8080
WHISPER_MODEL=large-v3
WHISPER_LANGUAGE=ja

# Ollama Service (LLM for structured data extraction)
# Running on Ubuntu host, accessible from Docker via host.docker.internal
OLLAMA_URL=http://host.docker.internal:11434
OLLAMA_MODEL=llama3:8b

# Ollama Performance Tuning for Ubuntu Server
OLLAMA_NUM_CTX=2048
OLLAMA_NUM_THREAD=8
OLLAMA_TEMPERATURE=0.1

# ============================================================================
# PRODUCTION NOTES
# ============================================================================
#
# Ubuntu Server Setup:
#   - Hostname: verbumcare-lab.local
#   - OS: Ubuntu 24.04 LTS x64
#   - Ollama: Running on host (port 11434)
#   - Whisper: Running on host (port 8080)
#   - Backend: Running in Docker (port 3000)
#   - PostgreSQL: Running in Docker (port 5432)
#
# Service URLs from client devices:
#   - API: http://verbumcare-lab.local:3000/api
#   - Admin Portal: http://verbumcare-lab.local:5173
#
# Docker host access:
#   - Use host.docker.internal to access host services from containers
#   - Ubuntu Docker requires: extra_hosts in docker-compose
#
# Startup:
#   - Run: ./ubuntu-server-start.sh
#   - This starts Ollama, Whisper, and Docker services
#
# Testing:
#   - Run: ./test-ubuntu-api.sh
#   - Verify all services are responding
#
# ============================================================================
